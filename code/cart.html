<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart</title>
</head>
<body>
    <div class="container">
        <h2>Shopping Cart</h2>
        <div class="cart" id="cart"></div>
        <div class="total-sum" id="totalSum"></div>
        <div class="total-items" id="totalItems"></div>
        <a id="op" href="orderPlaced.html">Place Order</a>
    </div>
    
    <!-- <script>
        function deleteCartItem(index) {
            let cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];
            if (cartItems[index].quantity > 1) {
                cartItems[index].quantity--;
            } else {
                cartItems.splice(index, 1);
            }
            localStorage.setItem("cartItems", JSON.stringify(cartItems));
            updateCartDisplay();
            calculateTotalSumAndItems();
        }

        function updateCartDisplay() {
            let cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];
            const cartElement = document.getElementById("cart");
            cartElement.innerHTML = "";
            cartItems.forEach((item, index) => {
                const cartItemElement = document.createElement("div");
                cartItemElement.classList.add("cart-item");
                cartItemElement.innerHTML = `
                    <img src="${item.imageUrl}" alt="${item.productName}">
                    <p>${item.productName} - $${item.price.toFixed(2)} - Quantity: 
                        <input type="number" class="quantity-input" value="${item.quantity}" min="1" onchange="updateQuantity(${index}, this.value)">
                    </p>
                    <span class="delete-item" onclick="deleteCartItem(${index})">Delete</span>`;

                cartElement.appendChild(cartItemElement);
            });
        }

        function updateQuantity(index, newQuantity) {
            let cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];
            cartItems[index].quantity = parseInt(newQuantity);
            localStorage.setItem("cartItems", JSON.stringify(cartItems));
            updateCartDisplay();
            calculateTotalSumAndItems();
        }

        function calculateTotalSumAndItems() {
            let cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];
            const totalSum = cartItems.reduce((sum, item) => sum + item.price * item.quantity, 0);
            const totalItems = cartItems.reduce((total, item) => total + item.quantity, 0);
            const totalSumElement = document.getElementById("totalSum");
            totalSumElement.textContent = `Total Sum: $${totalSum.toFixed(2)}`;

            const totalItemsElement = document.getElementById("totalItems");
            totalItemsElement.textContent = `Total Items: ${totalItems}`;
        }

        // Call the initial functions
        updateCartDisplay();
        calculateTotalSumAndItems();
    </script> -->



</body>
</html>



<!-- 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart</title>
</head>
<body>
    <div class="container">
        <h2>Shopping Cart</h2>
        <div class="cart" id="cart"></div>
        <div class="total-sum" id="totalSum"></div>
        <div class="total-items" id="totalItems"></div>
        <a id="op" href="orderPlaced.html">Place Order</a>
      </div>
    
    <script>
      
      function deleteCartItem(index) {
        let cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];
        if (cartItems[index].quantity > 1) {
          cartItems[index].quantity--;
        } else {
          cartItems.splice(index, 1);
        }
        localStorage.setItem("cartItems", JSON.stringify(cartItems));
        updateCartDisplay();
        calculateTotalSumAndItems();
      }

      function updateCartDisplay() {
        let cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];
        const cartElement = document.getElementById("cart");
        cartElement.innerHTML = "";
        cartItems.forEach((item, index) => {
          const cartItemElement = document.createElement("div");
          cartItemElement.classList.add("cart-item");
          cartItemElement.innerHTML = `
          <img src="${item.imageUrl}" alt="${item.productName}">
          <p>${item.productName} - ${item.price.toFixed(2)} - Quantity: 
            <input type="number" class="quantity-input" value="${
              item.quantity
            }" min="1" onchange="updateQuantity(${index}, this.value)">
        </p>
        <span class="delete-item" onclick="deleteCartItem(${index})">Delete</span>`;

          cartElement.appendChild(cartItemElement);
        });
      }

      function updateQuantity(index, newQuantity) {
        let cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];
        cartItems[index].quantity = parseInt(newQuantity);
        localStorage.setItem("cartItems", JSON.stringify(cartItems));
        updateCartDisplay();
        calculateTotalSumAndItems();
      }

      function calculateTotalSumAndItems() {
        let cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];
        const totalSum = cartItems.reduce(
          (sum, item) => sum + item.price * item.quantity,
          0
        );
        const totalItems = cartItems.reduce(
          (total, item) => total + item.quantity,
          0
        );
        const totalSumElement = document.getElementById("totalSum");
        totalSumElement.textContent = `Total Sum:${totalSum.toFixed(2)}`;

        const totalItemsElement = document.getElementById("totalItems");
        totalItemsElement.textContent = `Total Items: ${totalItems}`;
      }

      updateCartDisplay();

      calculateTotalSumAndItems();
    </script>
   
</body>
</html>  -->
